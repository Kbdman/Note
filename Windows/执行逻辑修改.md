# 程序执行逻辑修改
## IAT hook
1. 确保要注入的代码在目标进程的地址空间中
2. 遍历INT，通过名字找到对应的IAT的索引
3. 设置IAT中对应的条目，使他指向新的地址
> 缺点:不能hook通过LoadLibrary,GetProcAddress进行调用的函数
## Inline Hook
直接修改函数代码:
### 注入替代函数
#### 注入步骤
1. 找到目标代码所在位置，
2. 将目标代码的前5个字节保存下来
3. 修改目标代码的前5个字节，使得跳转到替代函数上
#### 替代函数的实现
如果需要调用原函数，将原函数的前5个字节代码恢复回去，然后调用原函数，调用完再次hook原函数
如果不需要调用原函数，随意实现都可以

#### 缺点
如果目标函数被多个线程并行调用，在多次hook unhook的过程中很有可能因为hook unhook不是原子操作而导致崩溃

### 插入逻辑
#### 注入步骤
1. 找到目标代码要注入的位置
2. 修改目标位置的5个字节，使得跳转到要注入的代码上
#### 被注入代码的实现
如果被注入的代码需要将控制流交还给到原代码，需要在代码的尾部执行注入时被修改的那几条指令，然后再jmp到后面的代码，这意味这每次个注入几乎都要定制代码
#### 缺点
要定制代码，不太灵活



